<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance Page</title>
</head>

<body>

    <!-- Create a form with a div to display the response or error -->
    <form id="attendanceForm">
        <label for="machineNumber">Machine Number:</label>
        <input type="text" id="machineNumber" name="machineNumber" value="1" readonly>
        <button type="button" onclick="submitAttendance()">Submit Attendance</button>
    </form>

    <div id="responseContainer"></div>

    <script>
        async function submitAttendance() {
            try {
                // Get the machine number from the input field
                const machineNumber = document.getElementById('machineNumber').value;

                // Prepare data for the POST request
                const formData = new FormData();
                formData.append('machineNumber', machineNumber);

                // Make the POST request
                const response = await fetch('https://erp-server-lo08.onrender.com/attendance/add-attendance', {
                    method: 'POST',
                    body: formData
                });

                // Check if the response is successful (status code 2xx)
                if (response.ok) {
                    const data = await response.text();
                    // Display the successful response in the div
                    document.getElementById('responseContainer').innerHTML = `Success: ${data}`;
                } else {
                    // Display the error response in the div
                    const errorText = await response.text();
                    document.getElementById('responseContainer').innerHTML = `Error: ${errorText}`;
                }
            } catch (error) {
                // Display any unexpected errors
                document.getElementById('responseContainer').innerHTML = `Unexpected Error: ${error.message}`;
            }
        }
    </script>

</body>

</html>